# Migration `20191231150304-init`

This migration has been generated by Divyendu Singh at 12/31/2019, 3:03:04 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE `footbot@dev`.`User` (
  `access_token` varchar(191) NOT NULL DEFAULT '' ,
  `email` varchar(191)   ,
  `id` varchar(191) NOT NULL  ,
  `meetup_id` varchar(191) NOT NULL DEFAULT '' ,
  `refresh_token` varchar(191) NOT NULL DEFAULT '' ,
  PRIMARY KEY (`id`)
)
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

CREATE TABLE `footbot@dev`.`Group` (
  `id` varchar(191) NOT NULL  ,
  PRIMARY KEY (`id`)
)
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

ALTER TABLE `footbot@dev`.`Group` ADD COLUMN `user` varchar(191)  ,
ADD FOREIGN KEY (`user`) REFERENCES `footbot@dev`.`User`(`id`) ON DELETE SET NULL;

CREATE UNIQUE INDEX `User.email` ON `footbot@dev`.`User`(`email`)

CREATE UNIQUE INDEX `User.meetup_id` ON `footbot@dev`.`User`(`meetup_id`)
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20191231150304-init
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,21 @@
+datasource ds {
+  provider = "mysql"
+  url      = env("DB_URL")
+}
+
+generator photon {
+  provider = "photonjs"
+}
+
+model User {
+  id            String  @default(cuid()) @id
+  email         String? @unique
+  meetup_id     String  @unique
+  access_token  String
+  refresh_token String
+  groups        Group[]
+}
+
+model Group {
+  id String @default(cuid()) @id
+}
```


